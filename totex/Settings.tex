% We're assuming memoir here.
%
% If you want to write an article instead of someting larger with chapters,
% use the `article' option for documentclass, and specify
% `chapterstyle{komalike}'

% Use 8 bits per glyph in the output, instead of 7.
% Advantages: https://tex.stackexchange.com/a/677
\usepackage[T1]{fontenc}

% Allow UTF-8 characters in this .tex file
\usepackage[utf8]{inputenc}

\usepackage{pdfpages}
% To be able to include modern pdf's
\pdfminorversion=8

% \import, \subimport, and \includefrom commands
% Overleaf tutorial: https://www.overleaf.com/learn/latex/Management_in_a_large_project#Importing_files
% If \includefrom gives troubles, try \import.
\usepackage{import}

\headstyles{komalike}
\chapterstyle{bianchi}

% cft = Memoir mnemonic for (table of) Contents, (list of) Figures, 
% and (list of) tables
\renewcommand{\cftchapterfont}{\bfseries\sffamily}
\renewcommand{\cftsectionfont}{\normalfont\sffamily}

% `\includegraphics` and its options
\usepackage{graphicx}
% Specify root directories for your figures with:
% \graphicspath{{subdir1/}{subdir2/}}

% For multiple subfigures within one `figure`.
\usepackage{subcaption}

% On figure placement:
%  - https://tex.stackexchange.com/a/39020
%  - https://robjhyndman.com/hyndsight/latex-floats/
% 
% The default placement specifier is (probably) [tbp],
% for top, bottom, own page.

% Palatino (a nice serif font) for serif text & for math.
% \usepackage[sc]{mathpazo}
%
% Serif text: Palatino
% Sans-serif text: Computer Modern sans-serif
% Math text: Default (Computer Modern)
\usepackage{palatino}
\renewcommand{\sfdefault}{cmss}

% \lipsum
\usepackage{lipsum}

% Make typography easier on the eye.
% (Characters may expand into the margins so that the margins are psycho-visually straight; Font width may vary line by line, so that the interword spacing becomes more even).
\usepackage{microtype}
% For this to work with mathpazo, you have to manually install cm-super, and run updmap.

\usepackage{caption}
\captionsetup{margin=15pt}
\captionsetup{font={sf}}
\captionsetup[subfloat]{labelfont={bf}, labelformat=simple, labelsep=period}

\DeclareCaptionLabelFormat{bold}{\textbf{#2.}}
\captionsetup{subrefformat=bold}
% \captionsetup[subrefformat]{labelfont={bf}, labelformat=simple, labelsep=period}

\setfloatadjustment{figure}{\sffamily\centerfloat}
\setfloatadjustment{table}{\sffamily\centering}

% To place a table and figure next to each other (\captionof{table}{..}):
% https://tex.stackexchange.com/questions/103206/figure-and-table-next-to-each-other-memoir-class
\usepackage{capt-of}

% Nicer table lines. Use \toprule, \midrule, \bottomrule
\usepackage{booktabs}

% To additionally remove left and right space:
% \begin{tabular}{@{}lll@{}}

% Some more space between rows
\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}
\ra{1.2}

% Use as \multirow{nrows}{*}{Cell contents}
\usepackage{multirow}

% A command \makecell to use line breaks in tables
\usepackage{makecell}

% For \mathrel{\mathsmaller{.}} e.g.
\usepackage{relsize}

% For equations: alignment, numbering, `\text{}`, ...
\usepackage{amsmath}

% For ‚Ñù e.g.
\usepackage{amssymb}

% A command \bm{.} to boldface math symbols or entire math expressions.
\usepackage{bm}

% \num{1e-10} becomes nice exponential notation.
% Also: \SI{1e-10}{\meter\per\second}
\usepackage{siunitx}
\sisetup{detect-all}  % Adapt to surrounding font
\sisetup{inter-unit-product = \ensuremath{{} \cdot {}}}
\sisetup{per-mode = symbol}  % C / s
% From {1 Hz to 5 Hz} to {1 -- 5 Hz}
% \sisetup{range-phrase = \,--\,}
% \sisetup{range-units = single}

% Nice derivatives
\usepackage{physics}

% Ions
\usepackage[version=4]{mhchem}

%
\usepackage{geometry}
\geometry{
    top=25mm,
    bottom=35mm,
}
% \usepackage{showframe}
%
% \setlength{\trimtop}{0mm}
% \setlength{\uppermargin}{0mm}
% \checkandfixthelayout

% To rotate a page. \begin{landscape}, \end{landscape}
\usepackage{pdflscape}

% Paragraph spacing
\setlength{\parindent}{0em}
\setlength{\parskip}{1.2em}

% https://tex.stackexchange.com/a/26522
\setlength{\textfloatsep}{22.0pt plus 2.0pt minus 4.0pt}
\setlength{\floatsep}{16.0pt plus 2.0pt minus 2.0pt}

% Applies to formulas
% (`short' means after a short paragraph).
% \AtBeginDocument{
%     \setlength{\abovedisplayskip}{-0.5em}
%     \setlength{\abovedisplayshortskip}{-0.5em}
%     \setlength{\belowdisplayskip}{0.6em}
%     \setlength{\belowdisplayshortskip}{0.6em}
% }

% Subsection spacing
\setbeforesecskip{5.0ex plus 1ex minus .2ex}
\setbeforesubsecskip{4.5ex plus 1ex minus .2ex}


% `biblatex' is fresher than `natbib'. "biber" is the program, biblatex is
% the package.
\usepackage[
    citestyle=ieee,
    sorting=none,  % sort in citation order
    maxbibnames=20,
]{biblatex}
% If you want different biblatex settings, comment this section out and import biblatex in your own header. (Biblatex options can only be changed in \usepackage).
\addbibresource{D:/References.bib}
% '.bib' extension is necessary.


% `\vref` cleverly adds the page number to a reference.
\usepackage{varioref}
\usepackage[hidelinks]{hyperref}
\usepackage[nameinlink]{cleveref}

\definecolor{PleasantBlue}{RGB}{13, 127, 172}

\hypersetup{
    colorlinks = true,
    linkcolor = PleasantBlue,
    citecolor = PleasantBlue,
    urlcolor = PleasantBlue,
}


% A separate TOC for the appendices.
% Adapted from "sniplet C.8" of the Memoir manual.
%
\cftinsertcode{BREAK}{\changetocdepth{-10}}
\let\normalchangetocdepth\changetocdepth
%
\makeatletter
\newcommand\appendixtableofcontents{
    \begingroup
    \let\changetocdepth\@gobble
    \normalchangetocdepth{-10}
    \cftinsertcode{BREAK}{\normalchangetocdepth{3}}
    \renewcommand\contentsname{Appendices}
    \tableofcontents*
    \endgroup
}
\makeatother
%
% Making sure we get all PDF bookmarks after this second TOC weirdness:
\hypersetup{bookmarksdepth=4}
%
% To use where you want the appencix TOC:
\newcommand{\AppendixTOC}{
\clearpage
\addappheadtotoc
\cftinserthook{toc}{BREAK}
\appendixtableofcontents
}
